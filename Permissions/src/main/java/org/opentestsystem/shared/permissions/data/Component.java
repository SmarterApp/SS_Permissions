/*******************************************************************************
 * Educational Online Test Delivery System
 * Copyright (c) 2013 American Institutes for Research
 * 
 * Distributed under the AIR Open Source License, Version 1.0
 * See accompanying file AIR-License-1_0.txt or at 
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.shared.permissions.data;

import java.util.ArrayList;
import java.util.List;

import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlElement;

import org.apache.commons.lang3.StringUtils;

public class Component
{
  private String           _name        = null;
  private List<Permission> _permissions = new ArrayList<Permission> ();

  @XmlAttribute (name = "name")
  public String getComponent () {
    return _name;
  }

  public void setComponent (String value) {
    this._name = value;
  }

  @XmlElement (name = "permission")
  public List<Permission> getPermissions () {
    return _permissions;
  }

  public void setPermissions (List<Permission> value) {
    this._permissions = value;
  }

  public void addPermission (Permission p) {
	  this._permissions.add(p);
  }
    
  public boolean containsPermission (String value)
  {
    for (Permission perm : getPermissions ())
    {
      if (perm.containsPermission (value))
        return true;
    }
    return false;
  }
  
  @Override
  public boolean equals(Object o)
  {
    if (o instanceof Component)
    {
      Component candidate = (Component)o;
      return StringUtils.equals (candidate.getComponent (), getComponent ());
    }
    return false;
  }
}
